{"ast":null,"code":"'use client';\n\nimport { useRef, useState } from 'react';\nimport { flushSync } from 'react-dom';\nimport { useDidUpdate, mergeRefs } from '@mantine/hooks';\nfunction getAutoHeightDuration(height) {\n  if (!height || typeof height === \"string\") {\n    return 0;\n  }\n  const constant = height / 36;\n  return Math.round((4 + 15 * constant ** 0.25 + constant / 5) * 10);\n}\nfunction getElementHeight(el) {\n  return el !== null && el !== void 0 && el.current ? el.current.scrollHeight : \"auto\";\n}\nconst raf = typeof window !== \"undefined\" && window.requestAnimationFrame;\nfunction useCollapse(_ref) {\n  let {\n    transitionDuration,\n    transitionTimingFunction = \"ease\",\n    onTransitionEnd = () => {},\n    opened\n  } = _ref;\n  const el = useRef(null);\n  const collapsedHeight = 0;\n  const collapsedStyles = {\n    display: \"none\",\n    height: 0,\n    overflow: \"hidden\"\n  };\n  const [styles, setStylesRaw] = useState(opened ? {} : collapsedStyles);\n  const setStyles = newStyles => {\n    flushSync(() => setStylesRaw(newStyles));\n  };\n  const mergeStyles = newStyles => {\n    setStyles(oldStyles => ({\n      ...oldStyles,\n      ...newStyles\n    }));\n  };\n  function getTransitionStyles(height) {\n    const _duration = transitionDuration || getAutoHeightDuration(height);\n    return {\n      transition: \"height \".concat(_duration, \"ms \").concat(transitionTimingFunction, \", opacity \").concat(_duration, \"ms \").concat(transitionTimingFunction)\n    };\n  }\n  useDidUpdate(() => {\n    if (typeof raf === \"function\") {\n      if (opened) {\n        raf(() => {\n          mergeStyles({\n            willChange: \"height\",\n            display: \"block\",\n            overflow: \"hidden\"\n          });\n          raf(() => {\n            const height = getElementHeight(el);\n            mergeStyles({\n              ...getTransitionStyles(height),\n              height\n            });\n          });\n        });\n      } else {\n        raf(() => {\n          const height = getElementHeight(el);\n          mergeStyles({\n            ...getTransitionStyles(height),\n            willChange: \"height\",\n            height\n          });\n          raf(() => mergeStyles({\n            height: collapsedHeight,\n            overflow: \"hidden\"\n          }));\n        });\n      }\n    }\n  }, [opened]);\n  const handleTransitionEnd = e => {\n    if (e.target !== el.current || e.propertyName !== \"height\") {\n      return;\n    }\n    if (opened) {\n      const height = getElementHeight(el);\n      if (height === styles.height) {\n        setStyles({});\n      } else {\n        mergeStyles({\n          height\n        });\n      }\n      onTransitionEnd();\n    } else if (styles.height === collapsedHeight) {\n      setStyles(collapsedStyles);\n      onTransitionEnd();\n    }\n  };\n  function getCollapseProps() {\n    let {\n      style = {},\n      refKey = \"ref\",\n      ...rest\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const theirRef = rest[refKey];\n    return {\n      \"aria-hidden\": !opened,\n      ...rest,\n      [refKey]: mergeRefs(el, theirRef),\n      onTransitionEnd: handleTransitionEnd,\n      style: {\n        boxSizing: \"border-box\",\n        ...style,\n        ...styles\n      }\n    };\n  }\n  return getCollapseProps;\n}\nexport { getElementHeight, useCollapse };","map":{"version":3,"names":["getAutoHeightDuration","height","constant","Math","round","getElementHeight","el","current","scrollHeight","raf","window","requestAnimationFrame","useCollapse","_ref","transitionDuration","transitionTimingFunction","onTransitionEnd","opened","useRef","collapsedHeight","collapsedStyles","display","overflow","styles","setStylesRaw","useState","setStyles","newStyles","flushSync","mergeStyles","oldStyles","getTransitionStyles","_duration","transition","concat","useDidUpdate","willChange","handleTransitionEnd","e","target","propertyName","getCollapseProps","style","refKey","rest","arguments","length","undefined","theirRef","mergeRefs","boxSizing"],"sources":["/home/mark/Desktop/job/retail/retail/frontend/node_modules/@mantine/core/src/components/Collapse/use-collapse.ts"],"sourcesContent":["import React, { useRef, useState } from 'react';\nimport { flushSync } from 'react-dom';\nimport { mergeRefs, useDidUpdate } from '@mantine/hooks';\nimport { CSSProperties } from '../../core';\n\nfunction getAutoHeightDuration(height: number | string) {\n  if (!height || typeof height === 'string') {\n    return 0;\n  }\n  const constant = height / 36;\n  return Math.round((4 + 15 * constant ** 0.25 + constant / 5) * 10);\n}\n\nexport function getElementHeight(\n  el: React.RefObject<HTMLElement> | { current?: { scrollHeight: number } }\n) {\n  return el?.current ? el.current.scrollHeight : 'auto';\n}\n\nconst raf = typeof window !== 'undefined' && window.requestAnimationFrame;\n\ninterface UseCollapse {\n  opened: boolean;\n  transitionDuration?: number;\n  transitionTimingFunction?: string;\n  onTransitionEnd?: () => void;\n}\n\ninterface GetCollapseProps {\n  [key: string]: unknown;\n  style?: CSSProperties;\n  onTransitionEnd?: (e: TransitionEvent) => void;\n  refKey?: string;\n  ref?: React.ForwardedRef<HTMLDivElement>;\n}\n\nexport function useCollapse({\n  transitionDuration,\n  transitionTimingFunction = 'ease',\n  onTransitionEnd = () => {},\n  opened,\n}: UseCollapse): (props: GetCollapseProps) => Record<string, any> {\n  const el = useRef<HTMLElement | null>(null);\n  const collapsedHeight = 0;\n  const collapsedStyles = {\n    display: 'none',\n    height: 0,\n    overflow: 'hidden',\n  };\n  const [styles, setStylesRaw] = useState<CSSProperties>(opened ? {} : collapsedStyles);\n  const setStyles = (newStyles: {} | ((oldStyles: {}) => {})): void => {\n    flushSync(() => setStylesRaw(newStyles));\n  };\n\n  const mergeStyles = (newStyles: {}): void => {\n    setStyles((oldStyles) => ({ ...oldStyles, ...newStyles }));\n  };\n\n  function getTransitionStyles(height: number | string): {\n    transition: string;\n  } {\n    const _duration = transitionDuration || getAutoHeightDuration(height);\n    return {\n      transition: `height ${_duration}ms ${transitionTimingFunction}, opacity ${_duration}ms ${transitionTimingFunction}`,\n    };\n  }\n\n  useDidUpdate(() => {\n    if (typeof raf === 'function') {\n      if (opened) {\n        raf(() => {\n          mergeStyles({ willChange: 'height', display: 'block', overflow: 'hidden' });\n          raf(() => {\n            const height = getElementHeight(el);\n            mergeStyles({ ...getTransitionStyles(height), height });\n          });\n        });\n      } else {\n        raf(() => {\n          const height = getElementHeight(el);\n          mergeStyles({ ...getTransitionStyles(height), willChange: 'height', height });\n          raf(() => mergeStyles({ height: collapsedHeight, overflow: 'hidden' }));\n        });\n      }\n    }\n  }, [opened]);\n\n  const handleTransitionEnd = (e: React.TransitionEvent): void => {\n    if (e.target !== el.current || e.propertyName !== 'height') {\n      return;\n    }\n\n    if (opened) {\n      const height = getElementHeight(el);\n\n      if (height === styles.height) {\n        setStyles({});\n      } else {\n        mergeStyles({ height });\n      }\n\n      onTransitionEnd();\n    } else if (styles.height === collapsedHeight) {\n      setStyles(collapsedStyles);\n      onTransitionEnd();\n    }\n  };\n\n  function getCollapseProps({ style = {}, refKey = 'ref', ...rest }: GetCollapseProps = {}) {\n    const theirRef: any = rest[refKey];\n    return {\n      'aria-hidden': !opened,\n      ...rest,\n      [refKey]: mergeRefs(el, theirRef),\n      onTransitionEnd: handleTransitionEnd,\n      style: { boxSizing: 'border-box', ...style, ...styles },\n    };\n  }\n\n  return getCollapseProps;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}